
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>

    <!-- you may want to add your own keywords here, for search engine optimization -->
    <meta name="Keywords" content="INTRODUCTION TO ARTIFICIAL INTELLIGENCE, computer science, the hebrew university of jerusalem, project"/ >
    <link rel="stylesheet" type="text/css" href="http://www.cs.huji.ac.il/~ai/projects/2012/css/default.css" />      <!-- Don't change this line!-->
    <title>Bakery Quarrels - Backtrack versus WalkSAT</title>
</head>

<body>
<div class="main">
    <div class="gfx">
        <a href="http://www.cs.huji.ac.il/~ai/projects/" alt="Introduction to Artificial Intelligence The Hebrew University of Jerusalem"></a>  <!-- Don't change this line!-->
    </div>
    <div class="title">
        <h1>Bakery Quarrels - Backtrack versus WalkSAT </h1>
        <h4>Final project by </h4>
        <h3>
            <a href="ido.silverwater@cs.huji.ac.il" >Ido-Moshe Silverwater </a> &nbsp &nbsp
            <a href="noy.sternlicht@cs.huji.ac.il" > Noy Sternlicht  </a> &nbsp &nbsp
			<a href="jonathan.wiess@cs.huji.ac.il" > Jonathan Weiss  </a>
        </h3>
    </div>
   <hr>

    <div class="content">
    <h2>Introduction</h2>
        <p>
            In a workplace, such as a bakery shifts need to be manned. preferably taking the workers wishes into account.

            The workplace has a minimum and maximum amount of people needed in a shift, also the minimum amount of shifts
            a person has to work at each week.

            A worker has rest days (or sick days etc.) and preferred shifts during the week.
            <br>
            We can't always fill everyone's request, but we certainly determined to do our best.

        </p>
        <p>
            We are (naturally) going to solve this problem using CSP techniques we have
                learned in class.
        </p>

    <h2> Approach and Method </h2><p> First build a general case CSP solver, and then feed it with specific
                    problems (Specific problems would also entail implementing the supplied
                    interface).
                <h4>Worker shift satisfaction</h4>
                <p> There are a couple of different constraint types.
                    The first are hard constraints, these are constraints that must be satisfied,
                    In our case these are one to two people at each shift. The second is also a hard
                    constraint, That represents the workers rest days. Third is a soft constraints,
                    a constraint that we strive to satisfy but are not obligated to.</p>

                <p>We are going to try and solve this problem using a few algorithms:</p>
                <ul>
                    <li> Backtracking </li>
                    <li> WalkSAT (adjusted to our problem) </li>
                </ul>
                <h4> Backtracking </h4>
                    <p> The algorithm is greedy, in the sense that after it satisfies the hard constraints, it will
                        add one by one the soft constraints, if they are satisfied then we keep them otherwise we
                        dispose of them. Although we do this greedily we do use a heuristic, that might try to add them
                        in an order that will insure maximum fullfillment.</p>
                    <p>
                        The heuristics used here, are the heuristics for choosing what variable to satisfy at each step,
                        and domain heuristics two the best domain value to test.

                        After the satisfaction of the hard constraints, we have a heuristic to determine the best order
                        to try and satisfy the soft-constraint.
                    </p>
                <h4> WalkSAT </h4>
                    <p> All constraints are present from the very beginning (not adding one by one like the backtrack).
                        The WalkSAT will attempt to satisfy as many worker preferences as it can.</p>

	<h2> Results </h2>
        <p>

        We have ran many examples in order to compare between the two methods and test each method sepratly.

        Our main analysis was based on two randomly generated examples.
        </p>

        <h3> Backtrack results</h3>
            <p>
                In the backtrack results we analyze the running time of the algorithm using the different heuristics.
                reason we don't check for amount satisfied, is because these heuristics are used in the satisfication
                of the hard constraints which are always a 100% satisfied using the backtrack algorithm. otherwise the backtrack algorithm
                returns an exception. therefore comparing the heuristics based on precent satisfied is meaningless.
            </p>

            <p>
            First Domain heuristics. The following diagram descirbes the median running time of the algorithm
        using the least constraining value vs. the minimum conflict heuristic.
                (median running time over the runs on both tests, with different parameters, such as different variable heuristics etc.)
            <img src="img/backtrack-domain-med.png" alt="funny chart" width="600" >
                We can see that the minimum conflict has a lower running time. therefore better.
            </p>
            <p>
                Also for the variable heuristics we have a diagram representing the running time between the
                degree heuristic and the minimum remaining value heuristic.

            <img src="img/backtrack-variable-med.png" alt="funny chart" width="600" >
                The minimum remaining value does a better job.
            </p>

        <h3> WalkSAT results</h3>

            WalkSAT doesn't pay attention to the importance of the constraint, both hard and soft constraints are equal.

            Also in the walksat results we try to see the amount of flips (in the walksat algorithm) effect on the precent
        of satisfied constraints.

            <img src="img/walksat-flips.png" alt="funny chart" width="600" >

            And the effect of the randomness of the walksat algorithm (explore-explot ratio)

            <img src="img/walksat-random.png" alt="funny chart" width="600" >

            We can see here that the amount of random prefered here is 0. meaning that the greedy result is better for
        our specific problem and constraints (not many local minima, and even those who exist not that bad). but on other problems
        where it is easy to go into local minima this will not be true.

        <h3> Walksat vs. Backtrack</h3>
        TODO

    <h2>Conclusions</h2>

        <p>
        Our goal was to create a constraint satisfaction solver, that will take workers preferences and the workplace needs.
        We created two algorithms that try to solve the same problem in different ways, and saw that each has a certain advantage.
        One guarntees the satisfaction of hard constraints, but satisfies less constraints overall. The other treats the
        hard as the soft, but satisfies more constraints overall.

            The algorithms had to be tweaked for our purposes so to actually work, as backtrack for example isn't built for
            satisfaction maximization, but for 100% satisfaction, something that isn't always possible in our scenrio, due to
            colliding intrests.
        </p>

        <p>

            TODO


        </p>

        <h2>Additional Information</h2>
    <p>
        <ul>
            <li><a href="files/report.pdf"> Link to the report (English or Hebrew)</a> <b>make sure that you haven't written your i.d. number or any other information that you don't want to be published!</b> </li>
            <!--
            If you wrote your report in English, change English or Hebrew to English. i.e, you should have the following line
            <li><a href="files/report.pdf"> Link to the report (English)</a>
            -->
             <li>  Any other link </li>
        </ul>
   </p>

   <h2>References</h2>
   <p>
   List any references from the literature you have consulted or used.
   </p>
   </div>

    <!-- *Don't* delete the below code, copyright issues...  -->
    <div class="footer">
        <span class="right"><a href="http://templates.arcsin.se/">Website template</a> by <a href="http://arcsin.se/">Arcsin</a>   </span>
   </div>
</div>
</body>
</html>
